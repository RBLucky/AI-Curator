{% extends "base.html" %}
{% block title %}{{ tool.name }} - AI Curator{% endblock %}
{% block content %}
    <article>
        <header><h2>{{ tool.name }}</h2></header>
        <p><strong>Description:</strong> {{ tool.description }}</p>
        <footer>
            <a href="{{ tool.link }}" target="_blank" role="button" class="outline">Official Website</a>
            {% if tool.documentation_link %}<a href="{{ tool.documentation_link }}" target="_blank" role="button" class="outline">Documentation</a>{% endif %}
        </footer>
    </article>

    <hr>

    <section>
        <h3>Generate Explanation with AI</h3>
        <p>Curious? Get a concise explanation generated by Google's Gemini API.</p>

        <form method="post">
            {% csrf_token %}
            <button type="submit" {% if not tool.perplexity_query %}disabled{% endif %}>
                Ask AI: "{{ tool.perplexity_query|default:'No query set for this tool.' }}"
            </button>
        </form>

        {% if explanation %}
            <div class="ai-response">
                <h4>AI Explanation:</h4>
                <p>{{ explanation }}</p>
            </div>
        {% endif %}
    </section>
{% endblock %}